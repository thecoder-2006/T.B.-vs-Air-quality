<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TB & Air Quality Dashboard</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>TB & Air Quality Dashboard</h1>
    <div id="about-section">
        <div id="input-section">
            <input type="text" id="locationInput" placeholder="Enter location (e.g., London)">
            <button onclick="fetchData()">Get Data</button>
        </div>
        <div id="about-details">
            <h2>About This Dashboard</h2>
            <p>This website provides a comprehensive analysis of tuberculosis (TB) prevalence, weather conditions, and air quality for any location you enter. Here's what it does:</p>
            <ul>
                <li><strong>Location Lookup:</strong> Uses the Nominatim API to convert your input (e.g., "London") into latitude and longitude coordinates.</li>
                <li><strong>Weather Data:</strong> Fetches current temperature data twice from the OpenWeatherMap API to ensure accuracy, displayed in Celsius.</li>
                <li><strong>TB Statistics:</strong> Displays mock TB patient data (cases and percentage) for cities like London, New York, and Mumbai, plus global TB vs. air quality trends for 2020–2024 after search.</li>
                <li><strong>Air Quality:</strong> Retrieves PM2.5 levels (a key air pollution metric) from the OpenWeatherMap Air Pollution API, measured in µg/m³.</li>
                <li><strong>Gemini Insights:</strong> Calls the Google Gemini API twice—once to initialize and once to analyze TB, temperature, and air quality data—providing a summary of potential correlations (mocked if no API key).</li>
                <li><strong>Visualization:</strong> Generates charts using Chart.js: a bar chart for location data and a line graph for global TB vs. PM2.5 trends, displayed side by side after search.</li>
            </ul>
            <p>Enter a location above, click "Get Data," and explore the results in an interactive format. Use the Back button to return to this view. This tool aims to highlight how environmental factors might relate to TB prevalence.</p>
        </div>
    </div>
    <div id="container">
        <div id="results"></div>
    </div>

    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
    <script src="script.js"></script>
</body>
</html>